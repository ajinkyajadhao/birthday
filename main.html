<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ‚ù§Ô∏è</title>

<style>
body{
    margin:0;
    background:radial-gradient(circle,#0d0d1a,#000);
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    flex-direction:column;
    color:white;
    font-family:Arial, sans-serif;
}

/* Stars */
.star{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
    border-radius:50%;
    animation: twinkle 2s infinite alternate;
}
@keyframes twinkle{
    from{opacity:0.3;}
    to{opacity:1;}
}

#topText{
    position:absolute;
    top:5vh;
    font-size:22px;
    text-shadow:0 0 15px red;
}

#mainPhoto{
    width:70vw;
    max-width:280px;
    border-radius:20px;
    cursor:pointer;
    transition:0.6s;
}
#mainPhoto:hover{ transform:scale(1.05); }

canvas{ display:none; position:absolute; }

/* Key + Lock */
#key{
    display:none;
    position:absolute;
    width:90px;
    cursor:pointer;
    z-index:30;
    filter:drop-shadow(0 0 20px gold);
}
#keyhole{
    display:none;
    position:absolute;
    width:30px;
    height:50px;
    border:3px solid white;
    border-radius:20px 20px 10px 10px;
    box-shadow:0 0 25px red;
}

/* Memories */
.memory{
    position:absolute;
    width:75vw;
    max-width:320px;
    border-radius:20px;
    display:none;
    opacity:0;
    transition:0.8s;
    box-shadow:0 0 30px pink;
}

/* üéÅ Gift */
#giftHeading{
    position:absolute;
    top:5vh;
    font-size:22px;
    display:none;
    text-shadow:0 0 20px red;
    z-index:200;
}

.gift-wrapper{
    position:absolute;
    width:220px;
    display:none;
    cursor:pointer;
    transition:1s;
}

#giftMain{
    width:100%;
    transition:1s;
}

#giftRibbon{
    position:absolute;
    top:0;
    left:0;
    width:100%;
    transition:1s;
}

.gift-wrapper.ribbon-open #giftRibbon{
    transform:translateY(-100px) rotate(20deg);
    opacity:0;
}

.gift-wrapper.box-open #giftMain{
    content:url("open.png");
}

.gift-wrapper.zoom-in{
    transform:scale(1.8);
}

#surpriseBtn{
    position:absolute;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    padding:12px 22px;
    border:none;
    border-radius:30px;
    background:red;
    color:white;
    font-size:16px;
    box-shadow:0 0 20px red;
    opacity:0;
    transition:0.8s;
}

.gift-wrapper.zoom-in #surpriseBtn{
    opacity:1;
    animation:glowPulse 1.5s infinite;
}

@keyframes glowPulse{
    0%{box-shadow:0 0 10px red;}
    50%{box-shadow:0 0 35px red;}
    100%{box-shadow:0 0 10px red;}
}
</style>
</head>

<body>

<div id="topText">Click on my heart ‚ù§Ô∏è</div>

<img src="aj1.png" id="mainPhoto" onclick="startAnimation()">
<canvas id="canvas"></canvas>

<img src="aj2.png" id="key">
<div id="keyhole"></div>

<!-- Memories -->
<img src="ar1.png" id="memory1" class="memory">
<img src="ar2.png" id="memory2" class="memory">
<img src="ar3.png" id="memory3" class="memory">
<img src="ar4.png" id="memory4" class="memory">
<img src="ar5.png" id="memory5" class="memory">
<img src="ar6.png" id="memory6" class="memory">
<img src="ar7.png" id="memory7" class="memory">
<img src="ar8.png" id="memory8" class="memory">
<img src="ar9.png" id="memory9" class="memory">
<img src="ar10.png" id="memory10" class="memory">

<!-- üéÅ Gift -->
<div id="giftHeading">Small surprise for you jaan ‚ù§Ô∏è</div>

<div class="gift-wrapper" id="giftBox">
    <img src="gift.png" id="giftRibbon">
    <img src="ribin.png" id="giftMain">
   <a href="r1.html">
    <button id="surpriseBtn">‚ù§Ô∏è Press Me ‚ù§Ô∏è</button>
</a></div>

<script>

/* Stars */
for(let i=0;i<200;i++){
    let star=document.createElement("div");
    star.className="star";
    star.style.top=Math.random()*100+"vh";
    star.style.left=Math.random()*100+"vw";
    document.body.appendChild(star);
}

/* Heart Animation */
function startAnimation(){
    mainPhoto.style.display="none";
    topText.innerText="Unlock my heart ‚ù§Ô∏è";

    let canvas=document.getElementById("canvas");
    canvas.style.display="block";
    canvas.width=window.innerWidth;
    canvas.height=window.innerHeight;
    let ctx=canvas.getContext("2d");

    let particles=[];
    let heartPoints=[];
    let scale=Math.min(window.innerWidth,window.innerHeight)/40;

    for(let t=0;t<Math.PI*2;t+=0.02){
        let x=16*Math.pow(Math.sin(t),3);
        let y=-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
        heartPoints.push({x:canvas.width/2 + x*scale,y:canvas.height/2 + y*scale});
    }

    heartPoints.forEach(p=>{
        particles.push({
            baseX:p.x,
            baseY:p.y,
            x:Math.random()*canvas.width,
            y:Math.random()*canvas.height,
            size:Math.random()*2+2,
            speed:0.05
        });
    });

    function animate(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        particles.forEach(p=>{
            p.x+=(p.baseX-p.x)*p.speed;
            p.y+=(p.baseY-p.y)*p.speed;
            ctx.beginPath();
            ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
            ctx.shadowBlur=20;
            ctx.shadowColor="red";
            ctx.fillStyle="red";
            ctx.fill();
        });
        requestAnimationFrame(animate);
    }
    animate();

    setTimeout(()=>{
        key.style.display="block";
        keyhole.style.display="block";
        key.style.left="10vw";
        key.style.top="70vh";
        keyhole.style.left=(canvas.width/2-15)+"px";
        keyhole.style.top=(canvas.height/2+30)+"px";
        enableDrag();
    },3000);
}

/* Drag Key */
function enableDrag(){
    key.onmousedown=function(){
        document.onmousemove=function(e){
            key.style.left=e.pageX+"px";
            key.style.top=e.pageY+"px";
            let keyRect=key.getBoundingClientRect();
            let holeRect=keyhole.getBoundingClientRect();
            if(keyRect.left<holeRect.right && keyRect.right>holeRect.left &&
               keyRect.top<holeRect.bottom && keyRect.bottom>holeRect.top){
                unlockHeart();
            }
        }
    };
    document.onmouseup=function(){ document.onmousemove=null; };
}

function unlockHeart(){
    canvas.style.display="none";
    key.style.display="none";
    keyhole.style.display="none";
    topText.style.display="none";
    showMemories();
}

/* Memories */
function showMemories(){
    const memories=[memory1,memory2,memory3,memory4,memory5,memory6,memory7,memory8,memory9,memory10];
    let index=0;

    function next(){
        if(index<memories.length){
            let photo=memories[index];
            photo.style.display="block";
            photo.style.left="50%";
            photo.style.transform="translateX(-50%)";
            photo.style.opacity="1";

            if(index===9){
                const heading=document.createElement("div");
                heading.id="photoHeading";
                heading.innerText="Hold my wifey‚Äôs cheeks ‚ù§Ô∏è";
                heading.style.position="absolute";
                heading.style.top="8vh";
                heading.style.fontSize="22px";
                heading.style.textShadow="0 0 15px red";
                document.body.appendChild(heading);
            }

            index++;
            setTimeout(()=>{
                if(index<memories.length){
                    photo.style.opacity="0";
                    next();
                }
            },2000);
        }
    }
    next();

    memory10.onclick=function(){
        document.getElementById("photoHeading").remove();
        memory10.style.display="none";
        showGift();
    };
}

/* Gift Logic */
function showGift(){
    giftHeading.style.display="block";
    giftBox.style.display="block";

    let stage=0;

    giftBox.onclick=function(){
        stage++;

        if(stage===1){
            giftBox.classList.add("ribbon-open");
        }
        else if(stage===2){
            giftBox.classList.add("box-open");
        }
        else if(stage===3){
            giftBox.classList.add("zoom-in");
        }
    };

    surpriseBtn.onclick=function(e){
        e.stopPropagation();
        alert("I love you forever ‚ù§Ô∏è");
    };
}

</script>
</body>
</html>